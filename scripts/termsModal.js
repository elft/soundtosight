!function(){const e="1.0.2",t="vvavyTermsVersion",n="soundToSightTermsVersion",o=(e,t,n)=>{try{localStorage.setItem(e,n),t&&t!==e&&localStorage.removeItem(t)}catch(e){}},{DomUtils:s}=window;s&&s.onReady(async()=>{const r=s.qs("#welcomeModalContainer");if(!r)return;const a=(e=>{for(const t of e)try{const e=localStorage.getItem(t);if(null!==e)return e}catch(e){}return null})([t,n]);if(a===e)return;try{const e=await s.loadHtmlPartial("partials/welcome-modal.html");s.injectHtml(r,e)}catch(e){return}const i=s.qs("#welcomeModal",r),c=s.qs("#continueBtn",r);if(i&&c){if(i.classList.add("active"),a&&a!==e){const t=s.qs(".modal-body",i);if(t){const n=document.createElement("div");n.className="terms-update-notice",n.innerHTML=`\n                    <h2>⚠️ Terms Have Been Updated</h2>\n                    <p><strong>Our terms and warnings have been updated since you last visited.</strong></p>\n                    <p>Please review the changes below and re-accept to continue.</p>\n                    <p class="version-info">Previous version: ${a} → Current version: ${e}</p>\n                `,t.insertBefore(n,t.firstChild)}}c.addEventListener("click",()=>{o(t,n,e),o("vvavyAccepted","soundToSightAccepted","true"),i.classList.remove("active"),setTimeout(()=>{const e=window.vvavy||window.soundToSight||null;e&&("function"==typeof e.showGettingStartedOverlay?e.showGettingStartedOverlay():"function"==typeof e.showDropOverlay&&e.showDropOverlay())},300)})}})}();