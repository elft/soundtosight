!function(){const e="1.0.3",{DomUtils:t}=window;t&&t.onReady(async()=>{const o=t.qs("#welcomeModalContainer");if(!o)return;const n=localStorage.getItem("soundToSightTermsVersion");if(n===e)return;try{const e=await t.loadHtmlPartial("partials/welcome-modal.html");t.injectHtml(o,e)}catch(e){return}const s=t.qs("#welcomeModal",o),i=t.qs("#continueBtn",o);if(s&&i){if(s.classList.add("active"),n&&n!==e){const o=t.qs(".modal-body",s);if(o){const t=document.createElement("div");t.className="terms-update-notice",t.innerHTML=`\n                    <h2>⚠️ Terms Have Been Updated</h2>\n                    <p><strong>Our terms and warnings have been updated since you last visited.</strong></p>\n                    <p>Please review the changes below and re-accept to continue.</p>\n                    <p class="version-info">Previous version: ${n} → Current version: ${e}</p>\n                `,o.insertBefore(t,o.firstChild)}}i.addEventListener("click",()=>{localStorage.setItem("soundToSightTermsVersion",e),localStorage.setItem("soundToSightAccepted","true"),s.classList.remove("active"),setTimeout(()=>{window.soundToSight&&("function"==typeof window.soundToSight.showGettingStartedOverlay?window.soundToSight.showGettingStartedOverlay():"function"==typeof window.soundToSight.showDropOverlay&&window.soundToSight.showDropOverlay())},300)})}})}();